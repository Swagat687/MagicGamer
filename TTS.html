<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>TTS with Java</title>
    <link rel="stylesheet" type="text/css" href="css/style9.css">
</head>
<body>

    <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="About.html">About</a></li>
                <li><a href="Posts.html">Submit</a></li>
                <li><a href="signup.html">Magic Army</a></li>
                <li><a href="Downloads.html">Downloads</a></li>
                <li class="active"><a href="#">TTS with Java</a></li>
            </ul>

    <p class="main">Select The Voice You Like: </p><select class="speech" id='voiceList'></select> <br><br>

    <input class="in" id='txtInput' placeholder="type here..." /> <br><br>    
    <button class="btn1" id='btnSpeak'>Speak!</button>
    <style type="text/css">

        body{
    background-image:linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url(hiTech.jpg);
    height: 90vh;
    background-size: cover;
    background-position: center; 
}

        ul{
    float: right;
    list-style-type: none;
    margin-top: 25px;
    margin-right: 15px;
}

ul li{
    display: inline-block;
}

ul li a{
    text-decoration: none;
    color: #fff;
    padding: 5px 20px;
    border: 1px solid transparent;
    transition: 0.6s ease;

}

ul li a:hover{
    background-color: #fff;
    color: #000;
}

ul li.active a{
    background-color: #fff;
    color: #000;
}

        .main{
            color: #fff;
            font-size: 30px;
            position: absolute;
            top: 34.3%;
            left: 23%;
        }


        .btn1{
            position: absolute;
            top: 58%;
            left: 60%;
            background-color: red;
            color: #fff;
            border: none;
            font-weight: 200;
            font-size: 18;
            padding: 4px 18px;
            height: 35px;
            width: 100px;
            border-radius: 13px;
        }

        .btn1:hover{
            background-color: pink;
            color: #000;
            cursor: pointer;
            transition: 0.6s ease;
        }



        .in{
            position: absolute;
            top: 58%;
            left: 33%; 
            height: 30px;
            width: 300px;
            background-color: pink;
            border-radius: 5px;
        }

        .in:hover{
        background-color: pink;
            color: #000;
            transition: 0.6s ease;
        }

        .speech{
            position: absolute;
            top: 40%;
            left: 50%;
            size: 100px;
        }

        .speech:hover{
        background-color: green;
            color: #000;
            cursor: pointer;
            transition: 0.6s ease;
        }

        .clock{
    position: absolute;
    top: 94%;
    left: 80%;
    color: #fff;
}
    </style>
    <script>
        var txtInput = document.querySelector('#txtInput');
        var voiceList = document.querySelector('#voiceList');
        var btnSpeak = document.querySelector('#btnSpeak');
        var synth = window.speechSynthesis;
        var voices = [];

        PopulateVoices();
        if(speechSynthesis !== undefined){
            speechSynthesis.onvoiceschanged = PopulateVoices;
        }

        btnSpeak.addEventListener('click', ()=> {
            var toSpeak = new SpeechSynthesisUtterance(txtInput.value);
            var selectedVoiceName = voiceList.selectedOptions[0].getAttribute('data-name');
            voices.forEach((voice)=>{
                if(voice.name === selectedVoiceName){
                    toSpeak.voice = voice;
                }
            });
            synth.speak(toSpeak);
        });

        function PopulateVoices(){
            voices = synth.getVoices();
            var selectedIndex = voiceList.selectedIndex < 0 ? 0 : voiceList.selectedIndex;
            voiceList.innerHTML = '';
            voices.forEach((voice)=>{
                var listItem = document.createElement('option');
                listItem.textContent = voice.name;
                listItem.setAttribute('data-lang', voice.lang);
                listItem.setAttribute('data-name', voice.name);
                voiceList.appendChild(listItem);
            });

            voiceList.selectedIndex = selectedIndex;
        }
    </script>


    <div class="clock">
        <p id="time">
            <script type="text/javascript">
                function showTime(){
                document.getElementById("time").innerHTML = Date();
            }
                showTime();
                setInterval(showTime, 1000)
            </script>
        </p>
        </div>
</body>
</html>
